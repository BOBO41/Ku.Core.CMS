@{
    //----------------------------------------------------------------
    // Copyright (C) 2018 vino 版权所有
    //
    // 文件名：Edit.cshtml
    // 功能描述：商品 新增&编辑页面
    //
    // 创建者：kulend@qq.com
    // 创建时间：2018-02-24 10:50
    //
    //----------------------------------------------------------------
}

@{
    Layout = "~/Views/Shared/_WindowLayout.cshtml";
}
@using Vino.Core.CMS.Domain.Dto.Mall
@model ProductDto
<div class="layui-layout layui-layout-window">
    @using (Html.BeginForm<ProductDto>("Save"))
    {
        <div class="layui-body">
            <div class="layui-tab">
                <ul class="layui-tab-title">
                    <li class="layui-this">商品信息</li>
                    <li>商品详情</li>
                </ul>
                <div class="layui-tab-content">
                    <div class="layui-tab-item layui-show">
                        @Html.InputFor(x => x.Id)
                        @Html.InputFor(x => x.Name)
                        @Html.InputFor(x => x.Title)
                        @Html.InputFor(x => x.Status)
                        @Html.InputFor(x => x.Intro)
                        <div class="layui-form-item">
                            <label class="layui-form-label">主图</label>
                            <div id="ImageData" class="layui-input-block">
                            </div>
                        </div>
                        @Html.InputFor(x => x.OrderIndex)
                    </div>
                    <div class="layui-tab-item">
                        @Html.InputFor(x => x.ContentType)
                    </div>
                </div>
            </div>

        </div>
        <div class="layui-footer">
            @Html.ActionsForSubmitAndClose()
        </div>
    }
</div>
@section Scripts
    {
    <script src="~/js/vino/vino.image.picker.js"></script>
    <script>
        layui.use(['form'], function () {
            var form = layui.form;
            $("#ImageData").vinoImagePicker({
                field_data: "ImageData",
                max_count: 5
            });
            $("#ImageData").vinoImagePicker("loadData", '@Html.Raw(Model.ImageData)');
        });
    </script>
}
